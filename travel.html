<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    <span id="animated-title"></span>
    <script>
      // Animate the title text letter by letter
      const titleText = "Travel Memories";
      let i = 0;
      function animateTitle() {
        if (i <= titleText.length) {
          document.getElementById('animated-title').textContent = titleText.slice(0, i);
          i++;
          setTimeout(animateTitle, 120);
        }
      }
      window.addEventListener('DOMContentLoaded', animateTitle);
    </script>
    <noscript>Travel Memories</noscript>
  </title>
  <style>
    .typewriter {
      display: inline-block;
      overflow: hidden;
      border-right: .15em solid #e67e22;
      white-space: nowrap;
      letter-spacing: 2px;
      animation: typing 6s steps(30, end), blink-caret .7s step-end infinite;
      font-size: 1.2rem;
      font-weight: 600;
      color: #e67e22;
      margin-top: 10px;
      visibility: hidden;
    }
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #e67e22; }
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      const el = document.querySelector('.typewriter');
      if (el) {
        el.style.visibility = 'visible';
      }
    });
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
      color: #2c3e50;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 15px;
    }

    header {
      text-align: center;
      margin-bottom: 40px;
    }

    header h1 {
      font-weight: 600;
      font-size: 3rem;
      letter-spacing: 2px;
      color: #34495e;
      text-shadow: 1px 1px 2px #e67e22;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      max-width: 1100px;
      width: 100%;
    }

    .photo-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      position: relative;
    }

    .photo-card:hover {
      transform: scale(1.05);
      box-shadow: 0 15px 30px rgba(0,0,0,0.3);
      z-index: 2;
    }

    .photo-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .photo-caption {
      padding: 15px;
      font-weight: 600;
      font-size: 1.1rem;
      color: #e67e22;
      text-align: center;
    }

    footer {
      margin-top: 50px;
      font-size: 0.9rem;
      animation: footerFadeIn 2s ease-in;
        }

        /* Sunrise Nature Animated Background */
        .sunrise-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: -1;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(to top, #fda085 0%, #f6d365 70%, #87ceeb 100%);
      animation: skyRise 12s linear infinite alternate;
        }
        @keyframes skyRise {
      0% {
        background: linear-gradient(to top, #fda085 0%, #f6d365 70%, #87ceeb 100%);
      }
      100% {
        background: linear-gradient(to top, #f6d365 0%, #fda085 60%, #fffbe6 100%);
      }
        }
        .sun {
      position: absolute;
      left: 50%;
      bottom: 12%;
      transform: translateX(-50%);
      width: 170px;
      height: 170px;
      background: radial-gradient(circle at 60% 60%, #fffbe6 60%, #ffe066 100%);
      border-radius: 50%;
      box-shadow: 0 0 100px 50px #ffe06699, 0 0 200px 80px #fffbe655;
      animation: sunRise 12s linear infinite alternate;
      filter: blur(0.5px);
        }
        @keyframes sunRise {
      0% { bottom: 12%; }
      100% { bottom: 32%; }
        }
        .hill {
      position: absolute;
      bottom: 0;
      border-radius: 50% 50% 0 0;
      opacity: 0.95;
      filter: blur(0.5px);
        }
        .hill1 {
      left: 5vw;
      width: 45vw;
      height: 20vw;
      background: linear-gradient(135deg, #6ab04c 60%, #b8e994 100%);
      z-index: 1;
        }
        .hill2 {
      left: 30vw;
      width: 55vw;
      height: 24vw;
      background: linear-gradient(135deg, #218c5a 60%, #38ada9 100%);
      z-index: 2;
        }
        .hill3 {
      left: 60vw;
      width: 38vw;
      height: 16vw;
      background: linear-gradient(135deg, #379683 60%, #b8e994 100%);
      z-index: 3;
        }
        .hill4 {
      left: 0vw;
      width: 30vw;
      height: 12vw;
      background: linear-gradient(135deg, #218c5a 60%, #6ab04c 100%);
      z-index: 0;
      opacity: 0.7;
        }
        .cloud {
      position: absolute;
      background: #fff;
      border-radius: 50%;
      opacity: 0.85;
      box-shadow: 30px 10px 40px 0 #fff8, 60px 0 60px 0 #fff6;
      animation: cloudMove 38s linear infinite;
      filter: blur(0.5px);
        }
        .cloud1 {
      width: 100px; height: 44px; top: 10vh; left: 8vw;
      animation-delay: 0s;
        }
        .cloud2 {
      width: 70px; height: 32px; top: 17vh; left: 38vw;
      animation-delay: 10s;
        }
        .cloud3 {
      width: 80px; height: 36px; top: 7vh; left: 68vw;
      animation-delay: 20s;
        }
        .cloud4 {
      width: 60px; height: 28px; top: 22vh; left: 20vw;
      animation-delay: 15s;
        }
        @keyframes cloudMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(40vw); }
        }
        .bird {
      position: absolute;
      width: 40px;
      height: 20px;
      top: 15vh;
      left: 15vw;
      z-index: 10;
      opacity: 0.8;
      animation: birdFly 18s linear infinite;
        }
        .bird2 {
      top: 20vh;
      left: 60vw;
      width: 30px;
      animation-delay: 8s;
      opacity: 0.7;
        }
        @keyframes birdFly {
      0% { transform: translateX(0) scale(1); }
      100% { transform: translateX(60vw) scale(1.1); }
        }
        @keyframes footerFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
        }

      color: #34495e;
    }
  </style>
</head>
<body>
  <header>
    <h1>
      <span class="typewriter">Travel Memories</span>
    </h1>
    <p>
      <span id="subtitle-typewriter"></span>
    </p>
    <script>
      // Animate subtitle beautifully, letter by letter
      // Security: Prevent XSS by not using innerHTML, only textContent
      // Security: Use strict CSP via meta tag (see below for meta tag addition)
      const subtitleText = "Snapshots from my journeys around the world.";

      // Add glow animation CSS
      const glowStyle = document.createElement('style');
      glowStyle.textContent = `
        .glow-effect {
          text-shadow:
        0 0 8px #fffbe6,
        0 0 16px #ffe066,
        0 0 24px #fda085,
        0 0 32px #e67e22;
          animation: subtitleGlow 1s ease-in-out;
        }
        @keyframes subtitleGlow {
          0% { text-shadow: none; }
          30% { text-shadow: 0 0 8px #fffbe6, 0 0 16px #ffe066, 0 0 24px #fda085, 0 0 32px #e67e22; }
          70% { text-shadow: 0 0 16px #fffbe6, 0 0 32px #ffe066, 0 0 48px #fda085, 0 0 64px #e67e22; }
          100% { text-shadow: none; }
        }
        body, img, .photo-card, .photo-caption, header, main, footer, * {
          user-select: none !important;
          -webkit-user-select: none !important;
          -ms-user-select: none !important;
          -moz-user-select: none !important;
        }
        body {
          -webkit-touch-callout: none !important;
        }
      `;
      document.head.appendChild(glowStyle);

      // Security: Remove dangerous URL fragments
      if (window.location.hash && window.location.hash.match(/<|>|script|onerror|onload|javascript:/i)) {
        window.location.hash = '';
      }

      // Prevent copy, cut, paste, drag, context menu
      document.addEventListener('copy', e => e.preventDefault());
      document.addEventListener('cut', e => e.preventDefault());
      document.addEventListener('paste', e => e.preventDefault());
      document.addEventListener('contextmenu', e => e.preventDefault());
      document.addEventListener('dragstart', e => e.preventDefault());
      document.addEventListener('selectstart', e => e.preventDefault());

      // Extra: Prevent F12, Ctrl+Shift+I/J/U, Ctrl+S, Ctrl+P, Ctrl+C, Ctrl+V, Ctrl+X, PrintScreen
      document.addEventListener('keydown', function(e) {
        if (
          e.key === "F12" ||
          (e.ctrlKey && e.shiftKey && ["I", "J", "C", "U"].includes(e.key.toUpperCase())) ||
          (e.ctrlKey && ["S", "P", "C", "V", "X"].includes(e.key.toUpperCase())) ||
          (e.key === "PrintScreen")
        ) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      });

      // Security: Add strict CSP meta tag if not present
      if (!document.querySelector('meta[http-equiv="Content-Security-Policy"]')) {
        const csp = document.createElement('meta');
        csp.httpEquiv = "Content-Security-Policy";
        csp.content = "default-src 'self'; img-src 'self'; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self'; form-action 'none'; frame-ancestors 'none';";
        document.head.appendChild(csp);
      }

      // Add glow effect for 1 second after animation completes
      function addGlowEffect() {
        const el = document.getElementById('subtitle-typewriter');
        if (el) {
          el.classList.add('glow-effect');
          setTimeout(() => {
        el.classList.remove('glow-effect');
          }, 1000);
        }
      }
      let j = 0;
      function animateSubtitle() {
      if (j <= subtitleText.length) {
        document.getElementById('subtitle-typewriter').textContent = subtitleText.slice(0, j);
        j++;
        setTimeout(animateSubtitle, 55);
      }
      }
      window.addEventListener('DOMContentLoaded', animateSubtitle);
    </script>
  </header>

  <main class="gallery">
    <div class="photo-card" tabindex="0">
      <img src="images/pp.jpg" alt="Peace Pagoda, Pokhara" />
      <div class="photo-caption">Peace Pagoda, Pokhara</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/chitwan.jpg" alt="Chitwan " />
      <div class="photo-caption">Sauraha Museum</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/J.Stupa.jpg" alt="City skyline at night" />
      <div class="photo-caption">Jamchhen Stupa,Budhanilkantha</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/nagarkot.jpg" alt="Forest trail walk" />
      <div class="photo-caption">Nagarkot</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/Rani.jpg" alt="Forest trail walk" />
      <div class="photo-caption">Rani Jharana</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/BG.jpg" alt="Forest trail walk" />
      <div class="photo-caption">BudhiGandaki River</div>
    </div>
    <div class="photo-card" tabindex="0">
      <img src="images/Hajarsidhi (2).jpg" alt="Forest trail walk" />
      <div class="photo-caption">Hajarsidhi, Dhulikhel</div>
    </div>
   <div class="photo-card" tabindex="0">
      <img src="images/project2.jpg" alt="Forest trail walk" />
      <div class="photo-caption">Road Project Survey </div>
    </div>
    <!-- Gallery Template Start -->
    <template id="gallery-item-template">
      <div class="photo-card" tabindex="0">
      <img src="" alt="" />
      <div class="photo-caption"></div>
      </div>
    </template>
    <script>
      // Gallery data array
      const galleryData = [
      { src: "images/pp.jpg", alt: "Peace Pagoda, Pokhara", caption: "Peace Pagoda, Pokhara" },
      { src: "images/chitwan.jpg", alt: "Chitwan", caption: "Sauraha Museum" },
      { src: "images/J.Stupa.jpg", alt: "City skyline at night", caption: "Jamchhen Stupa,Budhanilkantha" },
      { src: "images/nagarkot.jpg", alt: "Forest trail walk", caption: "Nagarkot" },
      { src: "images/Rani.jpg", alt: "Forest trail walk", caption: "Rani Jharana" },
      { src: "images/BG.jpg", alt: "Forest trail walk", caption: "BudhiGandaki River" },
      { src: "images/Hajarsidhi (2).jpg", alt: "Forest trail walk", caption: "Hajarsidhi, Dhulikhel" },
      { src: "images/project2.jpg", alt: "Forest trail walk", caption: "Road Project Survey" }
      ];

      // Render gallery from template
      window.addEventListener('DOMContentLoaded', function() {
      const gallery = document.querySelector('.gallery');
      const template = document.getElementById('gallery-item-template');
      // Remove existing static cards (keep only template)
      gallery.querySelectorAll('.photo-card').forEach(card => card.remove());
      // Add from data
      galleryData.forEach(item => {
        const clone = template.content.cloneNode(true);
        const img = clone.querySelector('img');
        const caption = clone.querySelector('.photo-caption');
        img.src = item.src;
        img.alt = item.alt;
        caption.textContent = item.caption;
        gallery.appendChild(clone);
      });
      });
    </script>
    <!-- Gallery Template End -->

  </main>

  <footer>
    <span class="footer-animate">
      <span class="footer-symbol">&copy;</span>
      <span class="footer-year">2025</span>
      <span class="footer-name">Ram Krishna Thakur</span>
      <span class="footer-text">— Cherishing every moment.</span>
    </span>
    <style>
      .footer-animate {
      display: inline-block;
      font-weight: 500;
      letter-spacing: 1px;
      color: #e67e22;
      background: rgba(255,255,255,0.15);
      border-radius: 12px;
      padding: 8px 18px;
      box-shadow: 0 2px 12px #fda08544;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      }
      .footer-symbol, .footer-year, .footer-name, .footer-text {
      opacity: 0;
      display: inline-block;
      transform: translateY(20px) scale(0.95);
      animation: footerFadeUp 0.7s forwards;
      }
      .footer-symbol { animation-delay: 0.1s; color: #f6d365; font-size: 1.1em;}
      .footer-year { animation-delay: 0.4s; color: #34495e;}
      .footer-name { animation-delay: 0.7s; color: #e67e22; font-weight: 600;}
      .footer-text { animation-delay: 1.1s; color: #34495e;}
      @keyframes footerFadeUp {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      }
      .footer-animate::after {
      content: "";
      position: absolute;
      left: -60px;
      top: 0;
      width: 60px;
      height: 100%;
      background: linear-gradient(120deg, #fffbe6 0%, #fda08555 100%);
      opacity: 0.5;
      transform: skewX(-20deg);
      pointer-events: none;
      transition: none;
      animation: footerShine 2.5s 1.5s linear forwards;
      }
      @keyframes footerShine {
      0% { left: -60px; opacity: 0.2;}
      60% { opacity: 0.5;}
      100% { left: 100%; opacity: 0;}
      }
      .footer-animate:hover::after {
      animation: shineOnHover 1.2s linear;
      }
      @keyframes shineOnHover {
      0% { left: -60px; opacity: 0.2;}
      60% { opacity: 0.5;}
      100% { left: 100%; opacity: 0;}
      }

      /* Title frame border and size */
      header h1 {
      border: 2.5px solid #e67e22;
      border-radius: 18px;
      padding: 0.25em 0.7em;
      font-size: 2.1rem;
      background: rgba(255,255,255,0.13);
      display: inline-block;
      box-shadow: 0 2px 10px #fda08522;
      margin-bottom: 0.3em;
      }
    </style>
  </footer>
</body>
</html>
